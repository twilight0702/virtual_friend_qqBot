import{c2 as se,bE as oe,bD as F,c3 as le,b$ as J,bZ as ue,aF as A,c4 as H,c5 as p,c6 as c,c7 as fe,c8 as N,b_ as D,c9 as V,ca as W,bo as R,Q as ee,cb as ce,cc as de,_ as z,A as pe,D as ge,Y as ve}from"./index-BzAQRMoo.js";import{r as S,e as ye}from"./react-router-dom-BfuE-jt0.js";const $e=S.createContext({isNative:!0,open:be,useHref:r=>r});function te(){return S.useContext($e)}function ke(r,n){let i=r.getAttribute("target");return(!i||i==="_self")&&r.origin===location.origin&&!r.hasAttribute("download")&&!n.metaKey&&!n.ctrlKey&&!n.altKey&&!n.shiftKey}function I(r,n,i=!0){var o,d;let{metaKey:v,ctrlKey:y,altKey:b,shiftKey:h}=n;se()&&(!((d=window.event)===null||d===void 0||(o=d.type)===null||o===void 0)&&o.startsWith("key"))&&r.target==="_blank"&&(F()?v=!0:y=!0);let m=oe()&&F()&&!le()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:v,ctrlKey:y,altKey:b,shiftKey:h}):new MouseEvent("click",{metaKey:v,ctrlKey:y,altKey:b,shiftKey:h,bubbles:!0,cancelable:!0});I.isOpening=i,J(r),r.dispatchEvent(m),I.isOpening=!1}I.isOpening=!1;function Te(r,n){if(r instanceof HTMLAnchorElement)n(r);else if(r.hasAttribute("data-href")){let i=document.createElement("a");i.href=r.getAttribute("data-href"),r.hasAttribute("data-target")&&(i.target=r.getAttribute("data-target")),r.hasAttribute("data-rel")&&(i.rel=r.getAttribute("data-rel")),r.hasAttribute("data-download")&&(i.download=r.getAttribute("data-download")),r.hasAttribute("data-ping")&&(i.ping=r.getAttribute("data-ping")),r.hasAttribute("data-referrer-policy")&&(i.referrerPolicy=r.getAttribute("data-referrer-policy")),r.appendChild(i),n(i),r.removeChild(i)}}function be(r,n){Te(r,i=>I(i,n))}function Oe(r){let n=te();var i;const o=n.useHref((i=r.href)!==null&&i!==void 0?i:"");return{"data-href":r.href?o:void 0,"data-target":r.target,"data-rel":r.rel,"data-download":r.download,"data-ping":r.ping,"data-referrer-policy":r.referrerPolicy}}function Me(r){let n=te();var i;const o=n.useHref((i=r==null?void 0:r.href)!==null&&i!==void 0?i:"");return{href:r!=null&&r.href?o:void 0,target:r==null?void 0:r.target,rel:r==null?void 0:r.rel,download:r==null?void 0:r.download,ping:r==null?void 0:r.ping,referrerPolicy:r==null?void 0:r.referrerPolicy}}function he(r){let n=S.useContext(ce);if(n){let{register:i,...o}=n;r=ee(o,r),i()}return de(n,r.ref),r}var Y=new WeakMap;class X{continuePropagation(){z(this,Y,!1)}get shouldStopPropagation(){return pe(this,Y)}constructor(n,i,o,d){ge(this,Y,{writable:!0,value:void 0}),z(this,Y,!0);var v;let y=(v=d==null?void 0:d.target)!==null&&v!==void 0?v:o.currentTarget;const b=y==null?void 0:y.getBoundingClientRect();let h,m=0,$,C=null;o.clientX!=null&&o.clientY!=null&&($=o.clientX,C=o.clientY),b&&($!=null&&C!=null?(h=$-b.left,m=C-b.top):(h=b.width/2,m=b.height/2)),this.type=n,this.pointerType=i,this.target=o.currentTarget,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.x=h,this.y=m}}const Q=Symbol("linkClicked");function Ie(r){let{onPress:n,onPressChange:i,onPressStart:o,onPressEnd:d,onPressUp:v,isDisabled:y,isPressed:b,preventFocusOnPress:h,shouldCancelOnPointerExit:m,allowTextSelectionOnPress:$,ref:C,...ne}=he(r),[ae,G]=S.useState(!1),w=S.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:x,removeAllGlobalListeners:_}=ue(),E=A((e,s)=>{let g=w.current;if(y||g.didFirePressStart)return!1;let a=!0;if(g.isTriggeringEvent=!0,o){let f=new X("pressstart",s,e);o(f),a=f.shouldStopPropagation}return i&&i(!0),g.isTriggeringEvent=!1,g.didFirePressStart=!0,G(!0),a}),P=A((e,s,g=!0)=>{let a=w.current;if(!a.didFirePressStart)return!1;a.didFirePressStart=!1,a.isTriggeringEvent=!0;let f=!0;if(d){let t=new X("pressend",s,e);d(t),f=t.shouldStopPropagation}if(i&&i(!1),G(!1),n&&g&&!y){let t=new X("press",s,e);n(t),f&&(f=t.shouldStopPropagation)}return a.isTriggeringEvent=!1,f}),k=A((e,s)=>{let g=w.current;if(y)return!1;if(v){g.isTriggeringEvent=!0;let a=new X("pressup",s,e);return v(a),g.isTriggeringEvent=!1,a.shouldStopPropagation}return!0}),T=A(e=>{let s=w.current;if(s.isPressed&&s.target){s.didFirePressStart&&s.pointerType!=null&&P(M(s.target,e),s.pointerType,!1),s.isPressed=!1,s.isOverTarget=!1,s.activePointerId=null,s.pointerType=null,_(),$||H(s.target);for(let g of s.disposables)g();s.disposables=[]}}),L=A(e=>{m&&T(e)}),ie=S.useMemo(()=>{let e=w.current,s={onKeyDown(a){if(U(a.nativeEvent,a.currentTarget)&&p(a.currentTarget,c(a.nativeEvent))){var f;q(c(a.nativeEvent),a.key)&&a.preventDefault();let t=!0;if(!e.isPressed&&!a.repeat){e.target=a.currentTarget,e.isPressed=!0,e.pointerType="keyboard",t=E(a,"keyboard");let l=a.currentTarget,u=O=>{U(O,l)&&!O.repeat&&p(l,c(O))&&e.target&&k(M(e.target,O),"keyboard")};x(D(a.currentTarget),"keyup",ve(u,g),!0)}t&&a.stopPropagation(),a.metaKey&&F()&&((f=e.metaKeyEvents)===null||f===void 0||f.set(a.key,a.nativeEvent))}else a.key==="Meta"&&(e.metaKeyEvents=new Map)},onClick(a){if(!(a&&!p(a.currentTarget,c(a.nativeEvent)))&&a&&a.button===0&&!e.isTriggeringEvent&&!I.isOpening){let f=!0;if(y&&a.preventDefault(),!e.ignoreEmulatedMouseEvents&&!e.isPressed&&(e.pointerType==="virtual"||W(a.nativeEvent))){let t=E(a,"virtual"),l=k(a,"virtual"),u=P(a,"virtual");f=t&&l&&u}else if(e.isPressed&&e.pointerType!=="keyboard"){let t=e.pointerType||a.nativeEvent.pointerType||"virtual";f=P(M(a.currentTarget,a),t,!0),e.isOverTarget=!1,T(a)}e.ignoreEmulatedMouseEvents=!1,f&&a.stopPropagation()}}},g=a=>{var f;if(e.isPressed&&e.target&&U(a,e.target)){var t;q(c(a),a.key)&&a.preventDefault();let u=c(a);P(M(e.target,a),"keyboard",p(e.target,c(a))),_(),a.key!=="Enter"&&B(e.target)&&p(e.target,u)&&!a[Q]&&(a[Q]=!0,I(e.target,a,!1)),e.isPressed=!1,(t=e.metaKeyEvents)===null||t===void 0||t.delete(a.key)}else if(a.key==="Meta"&&(!((f=e.metaKeyEvents)===null||f===void 0)&&f.size)){var l;let u=e.metaKeyEvents;e.metaKeyEvents=void 0;for(let O of u.values())(l=e.target)===null||l===void 0||l.dispatchEvent(new KeyboardEvent("keyup",O))}};if(typeof PointerEvent<"u"){s.onPointerDown=t=>{if(t.button!==0||!p(t.currentTarget,c(t.nativeEvent)))return;if(fe(t.nativeEvent)){e.pointerType="virtual";return}e.pointerType=t.pointerType;let l=!0;if(!e.isPressed){e.isPressed=!0,e.isOverTarget=!0,e.activePointerId=t.pointerId,e.target=t.currentTarget,$||N(e.target),l=E(t,e.pointerType);let u=c(t.nativeEvent);"releasePointerCapture"in u&&u.releasePointerCapture(t.pointerId),x(D(t.currentTarget),"pointerup",a,!1),x(D(t.currentTarget),"pointercancel",f,!1)}l&&t.stopPropagation()},s.onMouseDown=t=>{if(p(t.currentTarget,c(t.nativeEvent))&&t.button===0){if(h){let l=V(t.target);l&&e.disposables.push(l)}t.stopPropagation()}},s.onPointerUp=t=>{!p(t.currentTarget,c(t.nativeEvent))||e.pointerType==="virtual"||t.button===0&&k(t,e.pointerType||t.pointerType)},s.onPointerEnter=t=>{t.pointerId===e.activePointerId&&e.target&&!e.isOverTarget&&e.pointerType!=null&&(e.isOverTarget=!0,E(M(e.target,t),e.pointerType))},s.onPointerLeave=t=>{t.pointerId===e.activePointerId&&e.target&&e.isOverTarget&&e.pointerType!=null&&(e.isOverTarget=!1,P(M(e.target,t),e.pointerType,!1),L(t))};let a=t=>{if(t.pointerId===e.activePointerId&&e.isPressed&&t.button===0&&e.target){if(p(e.target,c(t))&&e.pointerType!=null){let l=!1,u=setTimeout(()=>{e.isPressed&&e.target instanceof HTMLElement&&(l?T(t):(J(e.target),e.target.click()))},80);x(t.currentTarget,"click",()=>l=!0,!0),e.disposables.push(()=>clearTimeout(u))}else T(t);e.isOverTarget=!1}},f=t=>{T(t)};s.onDragStart=t=>{p(t.currentTarget,c(t.nativeEvent))&&T(t)}}else{s.onMouseDown=t=>{if(t.button!==0||!p(t.currentTarget,c(t.nativeEvent)))return;if(e.ignoreEmulatedMouseEvents){t.stopPropagation();return}if(e.isPressed=!0,e.isOverTarget=!0,e.target=t.currentTarget,e.pointerType=W(t.nativeEvent)?"virtual":"mouse",ye.flushSync(()=>E(t,e.pointerType))&&t.stopPropagation(),h){let u=V(t.target);u&&e.disposables.push(u)}x(D(t.currentTarget),"mouseup",a,!1)},s.onMouseEnter=t=>{if(!p(t.currentTarget,c(t.nativeEvent)))return;let l=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&e.pointerType!=null&&(e.isOverTarget=!0,l=E(t,e.pointerType)),l&&t.stopPropagation()},s.onMouseLeave=t=>{if(!p(t.currentTarget,c(t.nativeEvent)))return;let l=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&e.pointerType!=null&&(e.isOverTarget=!1,l=P(t,e.pointerType,!1),L(t)),l&&t.stopPropagation()},s.onMouseUp=t=>{p(t.currentTarget,c(t.nativeEvent))&&!e.ignoreEmulatedMouseEvents&&t.button===0&&k(t,e.pointerType||"mouse")};let a=t=>{if(t.button===0){if(e.ignoreEmulatedMouseEvents){e.ignoreEmulatedMouseEvents=!1;return}e.target&&e.target.contains(t.target)&&e.pointerType!=null||T(t),e.isOverTarget=!1}};s.onTouchStart=t=>{if(!p(t.currentTarget,c(t.nativeEvent)))return;let l=Pe(t.nativeEvent);if(!l)return;e.activePointerId=l.identifier,e.ignoreEmulatedMouseEvents=!0,e.isOverTarget=!0,e.isPressed=!0,e.target=t.currentTarget,e.pointerType="touch",$||N(e.target),E(K(e.target,t),e.pointerType)&&t.stopPropagation(),x(R(t.currentTarget),"scroll",f,!0)},s.onTouchMove=t=>{if(!p(t.currentTarget,c(t.nativeEvent)))return;if(!e.isPressed){t.stopPropagation();return}let l=Z(t.nativeEvent,e.activePointerId),u=!0;l&&j(l,t.currentTarget)?!e.isOverTarget&&e.pointerType!=null&&(e.isOverTarget=!0,u=E(K(e.target,t),e.pointerType)):e.isOverTarget&&e.pointerType!=null&&(e.isOverTarget=!1,u=P(K(e.target,t),e.pointerType,!1),L(K(e.target,t))),u&&t.stopPropagation()},s.onTouchEnd=t=>{if(!p(t.currentTarget,c(t.nativeEvent)))return;if(!e.isPressed){t.stopPropagation();return}let l=Z(t.nativeEvent,e.activePointerId),u=!0;l&&j(l,t.currentTarget)&&e.pointerType!=null?(k(K(e.target,t),e.pointerType),u=P(K(e.target,t),e.pointerType)):e.isOverTarget&&e.pointerType!=null&&(u=P(K(e.target,t),e.pointerType,!1)),u&&t.stopPropagation(),e.isPressed=!1,e.activePointerId=null,e.isOverTarget=!1,e.ignoreEmulatedMouseEvents=!0,e.target&&!$&&H(e.target),_()},s.onTouchCancel=t=>{p(t.currentTarget,c(t.nativeEvent))&&(t.stopPropagation(),e.isPressed&&T(K(e.target,t)))};let f=t=>{e.isPressed&&p(c(t),e.target)&&T({currentTarget:e.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};s.onDragStart=t=>{p(t.currentTarget,c(t.nativeEvent))&&T(t)}}return s},[x,y,h,_,$,T,L,P,E,k]);return S.useEffect(()=>{let e=w.current;return()=>{var s;$||H((s=e.target)!==null&&s!==void 0?s:void 0);for(let g of e.disposables)g();e.disposables=[]}},[$]),{isPressed:b||ae,pressProps:ee(ne,ie)}}function B(r){return r.tagName==="A"&&r.hasAttribute("href")}function U(r,n){const{key:i,code:o}=r,d=n,v=d.getAttribute("role");return(i==="Enter"||i===" "||i==="Spacebar"||o==="Space")&&!(d instanceof R(d).HTMLInputElement&&!re(d,i)||d instanceof R(d).HTMLTextAreaElement||d.isContentEditable)&&!((v==="link"||!v&&B(d))&&i!=="Enter")}function Pe(r){const{targetTouches:n}=r;return n.length>0?n[0]:null}function Z(r,n){const i=r.changedTouches;for(let o=0;o<i.length;o++){const d=i[o];if(d.identifier===n)return d}return null}function K(r,n){let i=0,o=0;return n.targetTouches&&n.targetTouches.length===1&&(i=n.targetTouches[0].clientX,o=n.targetTouches[0].clientY),{currentTarget:r,shiftKey:n.shiftKey,ctrlKey:n.ctrlKey,metaKey:n.metaKey,altKey:n.altKey,clientX:i,clientY:o}}function M(r,n){let i=n.clientX,o=n.clientY;return{currentTarget:r,shiftKey:n.shiftKey,ctrlKey:n.ctrlKey,metaKey:n.metaKey,altKey:n.altKey,clientX:i,clientY:o}}function Ee(r){let n=0,i=0;return r.width!==void 0?n=r.width/2:r.radiusX!==void 0&&(n=r.radiusX),r.height!==void 0?i=r.height/2:r.radiusY!==void 0&&(i=r.radiusY),{top:r.clientY-i,right:r.clientX+n,bottom:r.clientY+i,left:r.clientX-n}}function Ke(r,n){return!(r.left>n.right||n.left>r.right||r.top>n.bottom||n.top>r.bottom)}function j(r,n){let i=n.getBoundingClientRect(),o=Ee(r);return Ke(i,o)}function me(r){return r instanceof HTMLInputElement?!1:r instanceof HTMLButtonElement?r.type!=="submit"&&r.type!=="reset":!B(r)}function q(r,n){return r instanceof HTMLInputElement?!re(r,n):me(r)}const xe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function re(r,n){return r.type==="checkbox"||r.type==="radio"?n===" ":xe.has(r.type)}export{Ie as $,te as a,ke as b,Oe as c,Me as d,I as e};
